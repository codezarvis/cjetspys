<project name="onlinebank" default="usage" basedir=".">

	<description>Build Script to build the Online Bank Project</description>
	<property file="build.properties" />

	<path id="app.classpath">
	        
	    			
	    </path>

	<target name="usage">
		<echo>
		Usage: ant [createDB|loadSchema]
		createDB   -- Creates the Database in MySQL
		loadSchema -- Loads the Database with Tables and Data		
    </echo>
	</target>

	<target name="createDB">
			<sql userid="${sql.user}" password="${sql.password}"
				 url="${sql.url}" driver="${db.driver}">
				<classpath>
					<path refid="app.classpath"/> 
				</classpath>			 
				DROP DATABASE IF EXISTS ${db.name};
				CREATE DATABASE ${db.name};
				GRANT ALL PRIVILEGES ON ${db.name}.* TO '${db.username}'@'${db.host}' IDENTIFIED BY '${db.password}' WITH GRANT OPTION;
			</sql>	
		</target>

		<target name="loadSchema">
			<sql userid="${sql.user}" password="${sql.password}"
				 url="${db.url}" driver="${db.driver}">
				<classpath>
					<path refid="app.classpath"/> 
				</classpath> 
				
				<transaction  src="database/bankdb.sql"/>
			</sql>	
		</target>


</project>
